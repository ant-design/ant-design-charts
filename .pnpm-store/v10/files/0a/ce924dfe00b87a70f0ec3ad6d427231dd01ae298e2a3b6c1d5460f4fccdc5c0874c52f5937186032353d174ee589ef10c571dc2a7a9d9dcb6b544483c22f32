!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).util={})}(this,function(n){"use strict";function t(n){return[parseInt(n.substr(1,2),16),parseInt(n.substr(3,2),16),parseInt(n.substr(5,2),16)]}function r(n){var t=Math.round(n).toString(16);return 1===t.length?"0".concat(t):t}function e(n){return"#".concat(r(n[0])).concat(r(n[1])).concat(r(n[2]))}var a=function(n){return null!==n&&"function"!=typeof n&&isFinite(n.length)},i=function(n,t){return!!a(n)&&n.indexOf(t)>-1},o=function(n,t){if(!a(n))return n;for(var r=[],e=0;e<n.length;e++){var i=n[e];t(i,e)&&r.push(i)}return r};function u(n){return"function"==typeof n}function c(n){return null==n}function f(n){return Array.isArray(n)}var l=function(n){var t=typeof n;return null!==n&&"object"===t||"function"===t};function s(n,t){if(n)if(f(n))for(var r=0,e=n.length;r<e&&!1!==t(n[r],r);r++);else if(l(n))for(var a in n)if(n.hasOwnProperty(a)&&!1===t(n[a],a))break}var h=Object.keys?function(n){return Object.keys(n)}:function(n){var t=[];return s(n,function(r,e){u(n)&&"prototype"===e||t.push(e)}),t};function p(n,t){var r=h(t),e=r.length;if(c(n))return!e;for(var a=0;a<e;a+=1){var i=r[a];if(t[i]!==n[i]||!(i in n))return!1}return!0}var v=function(n){return"object"==typeof n&&null!==n},y={}.toString,m=function(n,t){return y.call(n)==="[object "+t+"]"},x=function(n){if(!v(n)||!m(n,"Object"))return!1;if(null===Object.getPrototypeOf(n))return!0;for(var t=n;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t};var g=function(n,t){if(void 0===t&&(t=[]),f(n))for(var r=0;r<n.length;r+=1)g(n[r],t);else t.push(n);return t};function d(n){if(!Array.isArray(n))return-1/0;var t=n.length;if(!t)return-1/0;for(var r=n[0],e=1;e<t;e++)r=Math.max(r,n[e]);return r}var M=function(n){if(f(n))return n.reduce(function(n,t){return Math.min(n,t)},n[0])},b=Array.prototype,w=b.splice,A=b.indexOf,O=Array.prototype.splice,C=function(n,t){if(!a(n))return[];for(var r=n?t.length:0,e=r-1;r--;){var i=void 0,o=t[r];r!==e&&o===i||(i=o,O.call(n,o,1))}return n},j=function(n,t,r){if(!f(n)&&!x(n))return n;var e=r;return s(n,function(n,r){e=t(e,n,r)}),e};function P(n){return"string"==typeof n}function q(n,t){void 0===t&&(t=new Map);var r=[];if(Array.isArray(n))for(var e=0,a=n.length;e<a;e++){var i=n[e];t.has(i)||(r.push(i),t.set(i,!0))}return r}var k=Object.prototype.hasOwnProperty;function S(n,t){if(!t||!f(n))return{};for(var r,e={},a=u(t)?t:function(n){return n[t]},i=0;i<n.length;i++){var o=n[i];r=a(o),k.call(e,r)?e[r].push(o):e[r]=[o]}return e}function I(n,t){if(!t)return{0:n};if(!u(t)){var r=f(t)?t:t.replace(/\s+/g,"").split("*");t=function(n){for(var t="_",e=0,a=r.length;e<a;e++)t+=n[r[e]]&&n[r[e]].toString();return t}}return S(n,t)}var E={};function F(n){return"number"==typeof n}var T=180/Math.PI,N=parseInt,z=Math.PI/180,L=function(n,t){return n.hasOwnProperty(t)},V=Object.values?function(n){return Object.values(n)}:function(n){var t=[];return s(n,function(r,e){u(n)&&"prototype"===e||t.push(r)}),t},B=function(n){return c(n)?"":n.toString()};var R={}.toString,D=function(n){return R.call(n).replace(/^\[object /,"").replace(/]$/,"")};var _=Object.prototype,Q=function(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||_)};function X(n,t){for(var r in t)t.hasOwnProperty(r)&&"constructor"!==r&&void 0!==t[r]&&(n[r]=t[r])}function Y(n,t,r,e){return t&&X(n,t),r&&X(n,r),e&&X(n,e),n}var Z=function(n){if("object"!=typeof n||null===n)return n;var t;if(f(n)){t=[];for(var r=0,e=n.length;r<e;r++)"object"==typeof n[r]&&null!=n[r]?t[r]=Z(n[r]):t[r]=n[r]}else for(var a in t={},n)"object"==typeof n[a]&&null!=n[a]?t[a]=Z(n[a]):t[a]=n[a];return t};var U=new Map;function W(n,t,r){void 0===r&&(r=128);return function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var i=t?t.apply(this,e):e[0];U.has(n)||U.set(n,function(n){var t,r,e,a=n||1;function i(n,i){++t>a&&(e=r,o(1),++t),r[n]=i}function o(n){t=0,r=Object.create(null),n||(e=Object.create(null))}return o(),{clear:o,has:function(n){return void 0!==r[n]||void 0!==e[n]},get:function(n){var t=r[n];return void 0!==t?t:void 0!==(t=e[n])?(i(n,t),t):void 0},set:function(n,t){void 0!==r[n]?r[n]=t:i(n,t)}}}(r));var o=U.get(n);if(o.has(i))return o.get(i);var u=n.apply(this,e);return o.set(i,u),u}}function H(n,t){if(Object.hasOwn)return Object.hasOwn(n,t);if(null==n)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(n),t)}function G(n,t,r,e){for(var a in r=r||0,e=e||5,t)if(H(t,a)){var i=t[a];null!==i&&x(i)?(x(n[a])||(n[a]={}),r<e?G(n[a],i,r+1,e):n[a]=t[a]):f(i)?(n[a]=[],n[a]=n[a].concat(i)):void 0!==i&&(n[a]=i)}}var K=Object.prototype.hasOwnProperty;var $=function(n,t){if(n===t)return!0;if(!n||!t)return!1;if(P(n)||P(t))return!1;if(a(n)||a(t)){if(n.length!==t.length)return!1;for(var r=!0,e=0;e<n.length&&(r=$(n[e],t[e]));e++);return r}if(v(n)||v(t)){var i=Object.keys(n),o=Object.keys(t);if(i.length!==o.length)return!1;for(r=!0,e=0;e<i.length&&(r=$(n[i[e]],t[i[e]]));e++);return r}return!1},J=function(n){return n},nn=Object.prototype.hasOwnProperty,tn={};var rn=function(){function n(){this.map={}}return n.prototype.has=function(n){return void 0!==this.map[n]},n.prototype.get=function(n,t){var r=this.map[n];return void 0===r?t:r},n.prototype.set=function(n,t){this.map[n]=t},n.prototype.clear=function(){this.map={}},n.prototype.delete=function(n){delete this.map[n]},n.prototype.size=function(){return Object.keys(this.map).length},n}(),en=/rgba?\(([\s.,0-9]+)\)/;var an=W(function(n){if("#"===n[0]&&7===n.length)return n;var t,r=(t=document.getElementById("antv-web-colour-picker"))||((t=document.createElement("i")).id="antv-web-colour-picker",t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t);r.style.color=n;var a=document.defaultView.getComputedStyle(r,"").getPropertyValue("color");return a=e(en.exec(a)[1].split(/\s*,\s*/).map(function(n){return Number(n)}))},function(n){return n},256);function on(n,t,r,e){return n[e]+(t[e]-n[e])*r}var un=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,cn=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,fn=/[\d.]+:(#[^\s]+|[^)]+\))/gi;var ln,sn="undefined"!=typeof Float32Array?Float32Array:Array;function hn(n,t,r){var e=t[0],a=t[1],i=t[2],o=t[3],u=t[4],c=t[5],f=t[6],l=t[7],s=t[8],h=r[0],p=r[1],v=r[2],y=r[3],m=r[4],x=r[5],g=r[6],d=r[7],M=r[8];return n[0]=h*e+p*o+v*f,n[1]=h*a+p*u+v*l,n[2]=h*i+p*c+v*s,n[3]=y*e+m*o+x*f,n[4]=y*a+m*u+x*l,n[5]=y*i+m*c+x*s,n[6]=g*e+d*o+M*f,n[7]=g*a+d*u+M*l,n[8]=g*i+d*c+M*s,n}function pn(n,t,r){var e=[0,0,0,0,0,0,0,0,0];return function(n,t){n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=1,n[5]=0,n[6]=t[0],n[7]=t[1],n[8]=1}(e,r),hn(n,e,t)}function vn(n,t,r){var e=[0,0,0,0,0,0,0,0,0];return function(n,t){var r=Math.sin(t),e=Math.cos(t);n[0]=e,n[1]=r,n[2]=0,n[3]=-r,n[4]=e,n[5]=0,n[6]=0,n[7]=0,n[8]=1}(e,r),hn(n,e,t)}function yn(n,t,r){var e=[0,0,0,0,0,0,0,0,0];return function(n,t){n[0]=t[0],n[1]=0,n[2]=0,n[3]=0,n[4]=t[1],n[5]=0,n[6]=0,n[7]=0,n[8]=1}(e,r),hn(n,e,t)}function mn(n,t,r){return hn(n,r,t)}function xn(n,t){return n[0]*t[1]-t[0]*n[1]}Math.hypot||(Math.hypot=function(){for(var n=0,t=arguments.length;t--;)n+=arguments[t]*arguments[t];return Math.sqrt(n)}),ln=new sn(2),sn!=Float32Array&&(ln[0]=0,ln[1]=0);var gn=function(){return gn=Object.assign||function(n){for(var t,r=1,e=arguments.length;r<e;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n},gn.apply(this,arguments)};function dn(n,t,r){if(r||2===arguments.length)for(var e,a=0,i=t.length;a<i;a++)!e&&a in t||(e||(e=Array.prototype.slice.call(t,0,a)),e[a]=t[a]);return n.concat(e||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var Mn={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function bn(n,t,r){if(n[r].length>7){n[r].shift();for(var e=n[r],a=r;e.length;)t[r]="A",n.splice(a+=1,0,["C"].concat(e.splice(0,6)));n.splice(r,1)}}var wn={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function An(n){return Array.isArray(n)&&n.every(function(n){var t=n[0].toLowerCase();return wn[t]===n.length-1&&"achlmqstvz".includes(t)})}function On(n){return An(n)&&n.every(function(n){var t=n[0];return t===t.toUpperCase()})}function Cn(n){return On(n)&&n.every(function(n){var t=n[0];return"ACLMQZ".includes(t)})}function jn(n){for(var t=n.pathValue[n.segmentStart],r=t.toLowerCase(),e=n.data;e.length>=wn[r]&&("m"===r&&e.length>2?(n.segments.push([t].concat(e.splice(0,2))),r="l",t="m"===t?"l":"L"):n.segments.push([t].concat(e.splice(0,wn[r]))),wn[r]););}function Pn(n){var t=n.index,r=n.pathValue,e=r.charCodeAt(t);return 48===e?(n.param=0,void(n.index+=1)):49===e?(n.param=1,void(n.index+=1)):void(n.err='[path-util]: invalid Arc flag "'.concat(r[t],'", expecting 0 or 1 at index ').concat(t))}function qn(n){return n>=48&&n<=57||43===n||45===n||46===n}function kn(n){return n>=48&&n<=57}function Sn(n){var t,r=n.max,e=n.pathValue,a=n.index,i=a,o=!1,u=!1,c=!1,f=!1;if(i>=r)n.err="[path-util]: Invalid path value at index ".concat(i,', "pathValue" is missing param');else if(43!==(t=e.charCodeAt(i))&&45!==t||(i+=1,t=e.charCodeAt(i)),kn(t)||46===t){if(46!==t){if(o=48===t,i+=1,t=e.charCodeAt(i),o&&i<r&&t&&kn(t))return void(n.err="[path-util]: Invalid path value at index ".concat(a,', "').concat(e[a],'" illegal number'));for(;i<r&&kn(e.charCodeAt(i));)i+=1,u=!0;t=e.charCodeAt(i)}if(46===t){for(f=!0,i+=1;kn(e.charCodeAt(i));)i+=1,c=!0;t=e.charCodeAt(i)}if(101===t||69===t){if(f&&!u&&!c)return void(n.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(e[i],'" invalid float exponent'));if(i+=1,43!==(t=e.charCodeAt(i))&&45!==t||(i+=1),!(i<r&&kn(e.charCodeAt(i))))return void(n.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(e[i],'" invalid integer exponent'));for(;i<r&&kn(e.charCodeAt(i));)i+=1}n.index=i,n.param=+n.pathValue.slice(a,i)}else n.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(e[i],'" is not a number')}function In(n){return 10===n||13===n||8232===n||8233===n||32===n||9===n||11===n||12===n||160===n||n>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(n)}function En(n){for(var t=n.pathValue,r=n.max;n.index<r&&In(t.charCodeAt(n.index));)n.index+=1}function Fn(n){return 97==(32|n)}function Tn(n){var t=n.max,r=n.pathValue,e=n.index,a=r.charCodeAt(e),i=wn[r[e].toLowerCase()];if(n.segmentStart=e,function(n){switch(32|n){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}(a))if(n.index+=1,En(n),n.data=[],i){for(;;){for(var o=i;o>0;o-=1){if(!Fn(a)||3!==o&&4!==o?Sn(n):Pn(n),n.err.length)return;n.data.push(n.param),En(n),n.index<t&&44===r.charCodeAt(n.index)&&(n.index+=1,En(n))}if(n.index>=n.max)break;if(!qn(r.charCodeAt(n.index)))break}jn(n)}else jn(n);else n.err='[path-util]: Invalid path value "'.concat(r[e],'" is not a path command')}var Nn=function(n){this.pathValue=n,this.segments=[],this.max=n.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""};function zn(n){if(An(n))return[].concat(n);var t=new Nn(n);for(En(t);t.index<t.max&&!t.err.length;)Tn(t);return t.err?t.err:t.segments}function Ln(n){if(On(n))return[].concat(n);var t=zn(n),r=0,e=0,a=0,i=0;return t.map(function(n){var t,o=n.slice(1).map(Number),u=n[0],c=u.toUpperCase();if("M"===u)return r=o[0],e=o[1],a=r,i=e,["M",r,e];if(u!==c)switch(c){case"A":t=[c,o[0],o[1],o[2],o[3],o[4],o[5]+r,o[6]+e];break;case"V":t=[c,o[0]+e];break;case"H":t=[c,o[0]+r];break;default:var f=o.map(function(n,t){return n+(t%2?e:r)});t=[c].concat(f)}else t=[c].concat(o);var l=t.length;switch(c){case"Z":r=a,e=i;break;case"H":r=t[1];break;case"V":e=t[1];break;default:r=t[l-2],e=t[l-1],"M"===c&&(a=r,i=e)}return t})}function Vn(n,t){var r=n[0],e=t.x1,a=t.y1,i=t.x2,o=t.y2,u=n.slice(1).map(Number),c=n;if("TQ".includes(r)||(t.qx=null,t.qy=null),"H"===r)c=["L",n[1],a];else if("V"===r)c=["L",e,n[1]];else if("S"===r){var f=2*e-i,l=2*a-o;t.x1=f,t.y1=l,c=["C",f,l].concat(u)}else if("T"===r){var s=2*e-t.qx,h=2*a-t.qy;t.qx=s,t.qy=h,c=["Q",s,h].concat(u)}else if("Q"===r){var p=u[0],v=u[1];t.qx=p,t.qy=v}return c}function Bn(n){if(Cn(n))return[].concat(n);for(var t=Ln(n),r=gn({},Mn),e=0;e<t.length;e+=1){t[e]=Vn(t[e],r);var a=t[e],i=a.length;r.x1=+a[i-2],r.y1=+a[i-1],r.x2=+a[i-4]||r.x1,r.y2=+a[i-3]||r.y1}return t}function Rn(n,t,r){return{x:n*Math.cos(r)-t*Math.sin(r),y:n*Math.sin(r)+t*Math.cos(r)}}function Dn(n,t,r,e,a,i,o,u,c,f){var l,s,h,p,v,y=n,m=t,x=r,g=e,d=u,M=c,b=120*Math.PI/180,w=Math.PI/180*(+a||0),A=[];if(f)s=f[0],h=f[1],p=f[2],v=f[3];else{y=(l=Rn(y,m,-w)).x,m=l.y;var O=(y-(d=(l=Rn(d,M,-w)).x))/2,C=(m-(M=l.y))/2,j=O*O/(x*x)+C*C/(g*g);j>1&&(x*=j=Math.sqrt(j),g*=j);var P=x*x,q=g*g,k=(i===o?-1:1)*Math.sqrt(Math.abs((P*q-P*C*C-q*O*O)/(P*C*C+q*O*O)));p=k*x*C/g+(y+d)/2,v=k*-g*O/x+(m+M)/2,s=Math.asin(((m-v)/g*Math.pow(10,9)|0)/Math.pow(10,9)),h=Math.asin(((M-v)/g*Math.pow(10,9)|0)/Math.pow(10,9)),s=y<p?Math.PI-s:s,h=d<p?Math.PI-h:h,s<0&&(s=2*Math.PI+s),h<0&&(h=2*Math.PI+h),o&&s>h&&(s-=2*Math.PI),!o&&h>s&&(h-=2*Math.PI)}var S=h-s;if(Math.abs(S)>b){var I=h,E=d,F=M;h=s+b*(o&&h>s?1:-1),A=Dn(d=p+x*Math.cos(h),M=v+g*Math.sin(h),x,g,a,0,o,E,F,[h,I,p,v])}S=h-s;var T=Math.cos(s),N=Math.sin(s),z=Math.cos(h),L=Math.sin(h),V=Math.tan(S/4),B=4/3*x*V,R=4/3*g*V,D=[y,m],_=[y+B*N,m-R*T],Q=[d+B*L,M-R*z],X=[d,M];if(_[0]=2*D[0]-_[0],_[1]=2*D[1]-_[1],f)return _.concat(Q,X,A);for(var Y=[],Z=0,U=(A=_.concat(Q,X,A)).length;Z<U;Z+=1)Y[Z]=Z%2?Rn(A[Z-1],A[Z],w).y:Rn(A[Z],A[Z+1],w).x;return Y}function _n(n,t,r){var e=n[0],a=n[1];return[e+(t[0]-e)*r,a+(t[1]-a)*r]}var Qn=function(n,t,r,e){return dn(dn([],_n([n,t],[r,e],.5),!0),[r,e,r,e],!1)};function Xn(n,t){var r,e,a,i,o,u,c,f,l,s=n[0],h=n.slice(1).map(Number),p=h[0],v=h[1],y=t.x1,m=t.y1,x=t.x,g=t.y;switch("TQ".includes(s)||(t.qx=null,t.qy=null),s){case"M":return t.x=p,t.y=v,n;case"A":return r=[y,m].concat(h),["C"].concat(Dn(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9]));case"Q":return t.qx=p,t.qy=v,r=[y,m].concat(h),["C"].concat((e=r[0],a=r[1],i=r[2],o=r[3],u=r[4],c=r[5],[(f=1/3)*e+(l=2/3)*i,f*a+l*o,f*u+l*i,f*c+l*o,u,c]));case"L":return["C"].concat(Qn(y,m,p,v));case"Z":return y===x&&m===g?["C",y,m,x,g,x,g]:["C"].concat(Qn(y,m,x,g))}return n}function Yn(n,t){if(void 0===t&&(t=!1),function(n){return Cn(n)&&n.every(function(n){var t=n[0];return"MC".includes(t)})}(n)){var r=[].concat(n);return t?[r,[]]:r}for(var e,a,i=Bn(n),o=gn({},Mn),u=[],c="",f=i.length,l=[],s=0;s<f;s+=1){i[s]&&(c=i[s][0]),u[s]=c;var h=Xn(i[s],o);i[s]=h,bn(i,u,s),f=i.length,"Z"===c&&l.push(s),a=(e=i[s]).length,o.x1=+e[a-2],o.y1=+e[a-1],o.x2=+e[a-4]||o.x1,o.y2=+e[a-3]||o.y1}return t?[i,l]:i}function Zn(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}function Un(n,t,r,e,a){var i=Zn([n,t],[r,e]),o={x:0,y:0};if("number"==typeof a)if(a<=0)o={x:n,y:t};else if(a>=i)o={x:r,y:e};else{var u=_n([n,t],[r,e],a/i);o={x:u[0],y:u[1]}}return{length:i,point:o,min:{x:Math.min(n,r),y:Math.min(t,e)},max:{x:Math.max(n,r),y:Math.max(t,e)}}}function Wn(n,t){var r=n.x,e=n.y,a=t.x,i=t.y,o=r*a+e*i,u=Math.sqrt((Math.pow(r,2)+Math.pow(e,2))*(Math.pow(a,2)+Math.pow(i,2)));return(r*i-e*a<0?-1:1)*Math.acos(o/u)}function Hn(n,t,r,e,a,i,o,u,c,f){var l=Math.abs,s=Math.sin,h=Math.cos,p=Math.sqrt,v=Math.PI,y=l(r),m=l(e),x=(a%360+360)%360*(v/180);if(n===u&&t===c)return{x:n,y:t};if(0===y||0===m)return Un(n,t,u,c,f).point;var g=(n-u)/2,d=(t-c)/2,M={x:h(x)*g+s(x)*d,y:-s(x)*g+h(x)*d},b=Math.pow(M.x,2)/Math.pow(y,2)+Math.pow(M.y,2)/Math.pow(m,2);b>1&&(y*=p(b),m*=p(b));var w=(Math.pow(y,2)*Math.pow(m,2)-Math.pow(y,2)*Math.pow(M.y,2)-Math.pow(m,2)*Math.pow(M.x,2))/(Math.pow(y,2)*Math.pow(M.y,2)+Math.pow(m,2)*Math.pow(M.x,2)),A=(i!==o?1:-1)*p(w=w<0?0:w),O=A*(y*M.y/m),C=A*(-m*M.x/y),j=h(x)*O-s(x)*C+(n+u)/2,P=s(x)*O+h(x)*C+(t+c)/2,q={x:(M.x-O)/y,y:(M.y-C)/m},k=Wn({x:1,y:0},q),S=Wn(q,{x:(-M.x-O)/y,y:(-M.y-C)/m});!o&&S>0?S-=2*v:o&&S<0&&(S+=2*v);var I=k+(S%=2*v)*f,E=y*h(I),F=m*s(I);return{x:h(x)*E-s(x)*F+j,y:s(x)*E+h(x)*F+P}}function Gn(n,t,r,e,a,i,o,u,c,f,l){var s,h=l.bbox,p=void 0===h||h,v=l.length,y=void 0===v||v,m=l.sampleSize,x=void 0===m?30:m,g="number"==typeof f,d=n,M=t,b=0,w=[d,M,b],A=[d,M],O={x:0,y:0},C=[{x:d,y:M}];g&&f<=0&&(O={x:d,y:M});for(var j=0;j<=x;j+=1){if(d=(s=Hn(n,t,r,e,a,i,o,u,c,j/x)).x,M=s.y,p&&C.push({x:d,y:M}),y&&(b+=Zn(A,[d,M])),A=[d,M],g&&b>=f&&f>w[2]){var P=(b-f)/(b-w[2]);O={x:A[0]*(1-P)+w[0]*P,y:A[1]*(1-P)+w[1]*P}}w=[d,M,b]}return g&&f>=b&&(O={x:u,y:c}),{length:b,point:O,min:{x:Math.min.apply(null,C.map(function(n){return n.x})),y:Math.min.apply(null,C.map(function(n){return n.y}))},max:{x:Math.max.apply(null,C.map(function(n){return n.x})),y:Math.max.apply(null,C.map(function(n){return n.y}))}}}function Kn(n,t,r,e,a,i,o,u,c){var f=1-c;return{x:Math.pow(f,3)*n+3*Math.pow(f,2)*c*r+3*f*Math.pow(c,2)*a+Math.pow(c,3)*o,y:Math.pow(f,3)*t+3*Math.pow(f,2)*c*e+3*f*Math.pow(c,2)*i+Math.pow(c,3)*u}}function $n(n,t,r,e,a,i,o,u,c,f){var l,s=f.bbox,h=void 0===s||s,p=f.length,v=void 0===p||p,y=f.sampleSize,m=void 0===y?10:y,x="number"==typeof c,g=n,d=t,M=0,b=[g,d,M],w=[g,d],A={x:0,y:0},O=[{x:g,y:d}];x&&c<=0&&(A={x:g,y:d});for(var C=0;C<=m;C+=1){if(g=(l=Kn(n,t,r,e,a,i,o,u,C/m)).x,d=l.y,h&&O.push({x:g,y:d}),v&&(M+=Zn(w,[g,d])),w=[g,d],x&&M>=c&&c>b[2]){var j=(M-c)/(M-b[2]);A={x:w[0]*(1-j)+b[0]*j,y:w[1]*(1-j)+b[1]*j}}b=[g,d,M]}return x&&c>=M&&(A={x:o,y:u}),{length:M,point:A,min:{x:Math.min.apply(null,O.map(function(n){return n.x})),y:Math.min.apply(null,O.map(function(n){return n.y}))},max:{x:Math.max.apply(null,O.map(function(n){return n.x})),y:Math.max.apply(null,O.map(function(n){return n.y}))}}}function Jn(n,t,r,e,a,i,o){var u=1-o;return{x:Math.pow(u,2)*n+2*u*o*r+Math.pow(o,2)*a,y:Math.pow(u,2)*t+2*u*o*e+Math.pow(o,2)*i}}function nt(n,t,r,e,a,i,o,u){var c,f=u.bbox,l=void 0===f||f,s=u.length,h=void 0===s||s,p=u.sampleSize,v=void 0===p?10:p,y="number"==typeof o,m=n,x=t,g=0,d=[m,x,g],M=[m,x],b={x:0,y:0},w=[{x:m,y:x}];y&&o<=0&&(b={x:m,y:x});for(var A=0;A<=v;A+=1){if(m=(c=Jn(n,t,r,e,a,i,A/v)).x,x=c.y,l&&w.push({x:m,y:x}),h&&(g+=Zn(M,[m,x])),M=[m,x],y&&g>=o&&o>d[2]){var O=(g-o)/(g-d[2]);b={x:M[0]*(1-O)+d[0]*O,y:M[1]*(1-O)+d[1]*O}}d=[m,x,g]}return y&&o>=g&&(b={x:a,y:i}),{length:g,point:b,min:{x:Math.min.apply(null,w.map(function(n){return n.x})),y:Math.min.apply(null,w.map(function(n){return n.y}))},max:{x:Math.max.apply(null,w.map(function(n){return n.x})),y:Math.max.apply(null,w.map(function(n){return n.y}))}}}function tt(n,t,r){for(var e,a,i,o,u,c,f,l,s,h=Bn(n),p="number"==typeof t,v=[],y=0,m=0,x=0,g=0,d=[],M=[],b=0,w={x:0,y:0},A=w,O=w,C=w,j=0,P=0,q=h.length;P<q;P+=1)v=(f="M"===(l=(s=h[P])[0]))?v:[y,m].concat(s.slice(1)),f?(A=w={x:x=s[1],y:g=s[2]},b=0,p&&t<.001&&(C=w)):"L"===l?(b=(e=Un(v[0],v[1],v[2],v[3],(t||0)-j)).length,w=e.min,A=e.max,O=e.point):"A"===l?(b=(a=Gn(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],(t||0)-j,r||{})).length,w=a.min,A=a.max,O=a.point):"C"===l?(b=(i=$n(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],(t||0)-j,r||{})).length,w=i.min,A=i.max,O=i.point):"Q"===l?(b=(o=nt(v[0],v[1],v[2],v[3],v[4],v[5],(t||0)-j,r||{})).length,w=o.min,A=o.max,O=o.point):"Z"===l&&(b=(u=Un((v=[y,m,x,g])[0],v[1],v[2],v[3],(t||0)-j)).length,w=u.min,A=u.max,O=u.point),p&&j<t&&j+b>=t&&(C=O),M.push(A),d.push(w),j+=b,y=(c="Z"!==l?s.slice(-2):[x,g])[0],m=c[1];return p&&t>=j&&(C={x:y,y:m}),{length:j,point:C,min:{x:Math.min.apply(null,d.map(function(n){return n.x})),y:Math.min.apply(null,d.map(function(n){return n.y}))},max:{x:Math.max.apply(null,M.map(function(n){return n.x})),y:Math.max.apply(null,M.map(function(n){return n.y}))}}}function rt(n,t){return tt(n,void 0,gn(gn({},t),{bbox:!1,length:!0})).length}function et(n){var t=0,r=0,e=0;return Yn(n).map(function(n){var a;if("M"===n[0])return t=n[1],r=n[2],0;var i=n.slice(1),o=i[0],u=i[1],c=i[2],f=i[3],l=i[4],s=i[5];return e=function(n,t,r,e,a,i,o,u){return 3*((u-t)*(r+a)-(o-n)*(e+i)+e*(n-a)-r*(t-i)+u*(a+n/3)-o*(i+t/3))/20}(t,r,o,u,c,f,l,s),a=n.slice(-2),t=a[0],r=a[1],e}).reduce(function(n,t){return n+t},0)}function at(n,t,r){return tt(n,t,gn(gn({},r),{bbox:!1,length:!0})).point}function it(n,t){for(var r,e,a,i,o=zn(n),u=Bn(o),c=rt(o),f=function(n){var r=n.x-t.x,e=n.y-t.y;return r*r+e*e},l=8,s=0,h=0,p=1/0,v=0;v<=c;v+=l)(s=f(r=at(u,v)))<p&&(e=r,h=v,p=s);l/=2;for(var y=0,m=0,x=0,g=0;l>.5;)x=f(a=at(u,y=h-l)),g=f(i=at(u,m=h+l)),y>=0&&x<p?(e=a,h=y,p=x):m<=c&&g<p?(e=i,h=m,p=g):l/=2;var d=function(n,t){var r=zn(n);if("string"==typeof r)throw TypeError(r);var e=r.slice(),a=rt(e),i=e.length-1,o=0,u=0,c=r[0],f=c.slice(-2),l={x:f[0],y:f[1]};if(i<=0||!t||!Number.isFinite(t))return{segment:c,index:0,length:u,point:l,lengthAtSegment:o};if(t>=a)return u=a-(o=rt(e=r.slice(0,-1))),{segment:r[i],index:i,length:u,lengthAtSegment:o};for(var s=[];i>0;)c=e[i],u=a-(o=rt(e=e.slice(0,-1))),a=o,s.push({segment:c,index:i,length:u,lengthAtSegment:o}),i-=1;return s.find(function(n){return n.lengthAtSegment<=t})}(o,h);return{closest:e,distance:Math.sqrt(p),segment:d}}function ot(n){return n.map(function(n,t,r){var e=t&&r[t-1].slice(-2).concat(n.slice(1)),a=t?$n(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],{bbox:!1}).length:0;return{s:n,ss:t?a?function(n,t){void 0===t&&(t=.5);var r=n.slice(0,2),e=n.slice(2,4),a=n.slice(4,6),i=n.slice(6,8),o=_n(r,e,t),u=_n(e,a,t),c=_n(a,i,t),f=_n(o,u,t),l=_n(u,c,t),s=_n(f,l,t);return[["C"].concat(o,f,s),["C"].concat(l,c,i)]}(e):[n,n]:[n],l:a}})}function ut(n){return Math.abs(n)<1e-6?0:n<0?-1:1}function ct(n,t,r){return(r[0]-n[0])*(t[1]-n[1])===(t[0]-n[0])*(r[1]-n[1])&&Math.min(n[0],t[0])<=r[0]&&r[0]<=Math.max(n[0],t[0])&&Math.min(n[1],t[1])<=r[1]&&r[1]<=Math.max(n[1],t[1])}function ft(n,t,r){var e=!1,a=n.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=n[i],u=n[(i+1)%a];if(ct(o,u,[t,r]))return!0;ut(o[1]-r)>0!=ut(u[1]-r)>0&&ut(t-(r-o[1])*(o[0]-u[0])/(o[1]-u[1])-o[0])<0&&(e=!e)}return e}var lt=function(n,t,r){return n>=t&&n<=r};function st(n){for(var t=[],r=n.length,e=0;e<r-1;e++){var a=n[e],i=n[e+1];t.push({from:{x:a[0],y:a[1]},to:{x:i[0],y:i[1]}})}if(t.length>1){var o=n[0],u=n[r-1];t.push({from:{x:u[0],y:u[1]},to:{x:o[0],y:o[1]}})}return t}function ht(n,t){var r=!1;return n.forEach(function(n){if(function(n,t,r,e){var a=r.x-n.x,i=r.y-n.y,o=t.x-n.x,u=t.y-n.y,c=e.x-r.x,f=e.y-r.y,l=o*f-u*c,s=null;if(l*l>.001*(o*o+u*u)*(c*c+f*f)){var h=(a*f-i*c)/l,p=(a*u-i*o)/l;lt(h,0,1)&&lt(p,0,1)&&(s={x:n.x+h*o,y:n.y+h*u})}return s}(n.from,n.to,t.from,t.to))return r=!0,!1}),r}function pt(n){var t=n.map(function(n){return n[0]}),r=n.map(function(n){return n[1]});return{minX:Math.min.apply(null,t),maxX:Math.max.apply(null,t),minY:Math.min.apply(null,r),maxY:Math.max.apply(null,r)}}n.Cache=rn,n.angleTo=function(n,t,r){var e,a,i,o,u,c,f,l,s=(a=t,i=(e=n)[0],o=e[1],u=a[0],c=a[1],f=Math.sqrt(i*i+o*o)*Math.sqrt(u*u+c*c),l=f&&(i*u+o*c)/f,Math.acos(Math.min(Math.max(l,-1),1))),h=xn(n,t)>=0;return r?h?2*Math.PI-s:s:h?s:2*Math.PI-s},n.arcToCubic=Dn,n.assign=Y,n.augment=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var r=n[0],e=1;e<n.length;e++){var a=n[e];u(a)&&(a=a.prototype),Y(r.prototype,a)}},n.clamp=function(n,t,r){return n<t?t:n>r?r:n},n.clearAnimationFrame=function(n){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(n)},n.clone=Z,n.clonePath=function(n){return n.map(function(n){return Array.isArray(n)?[].concat(n):n})},n.contains=i,n.createDOM=function(n){var t=document.createElement("div");t.innerHTML=n;var r=t.childNodes[0];return r&&t.contains(r)&&t.removeChild(r),r},n.debounce=function(n,t,r){var e;return function(){var a=this,i=arguments,o=r&&!e;clearTimeout(e),e=setTimeout(function(){e=null,r||n.apply(a,i)},t),o&&n.apply(a,i)}},n.deepMix=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var e=0;e<t.length;e+=1)G(n,t[e]);return n},n.difference=function(n,t){return void 0===t&&(t=[]),o(n,function(n){return!i(t,n)})},n.direction=xn,n.distanceSquareRoot=Zn,n.each=s,n.endsWith=function(n,t){return!(!f(n)&&!P(n))&&n[n.length-1]===t},n.equalizeSegments=function n(t,r,e,a){if(void 0===a&&(a=0),a>50)return console.warn("Maximum recursion depth reached in equalizeSegments"),[t,r];var i=ot(t),o=ot(r),u=i.length,c=o.length,f=i.filter(function(n){return n.l}).length,l=o.filter(function(n){return n.l}).length,s=i.filter(function(n){return n.l}).reduce(function(n,t){return n+t.l},0)/f||0,h=o.filter(function(n){return n.l}).reduce(function(n,t){return n+t.l},0)/l||0,p=e||Math.max(u,c),v=[s,h],y=[p-u,p-c],m=0,x=[i,o].map(function(n,t){return n.l===p?n.map(function(n){return n.s}):n.map(function(n,r){return m=r&&y[t]&&n.l>=v[t],y[t]-=m?1:0,m?n.ss:[n.s]}).flat()});return x[0].length===x[1].length?x:n(x[0],x[1],p,a+1)},n.every=function(n,t){for(var r=0;r<n.length;r++)if(!t(n[r],r))return!1;return!0},n.extend=function(n,t,r,e){u(t)||(r=t,t=n,n=function(){});var a=Object.create?function(n,t){return Object.create(n,{constructor:{value:t}})}:function(n,t){function r(){}r.prototype=n;var e=new r;return e.constructor=t,e},i=a(t.prototype,n);return n.prototype=Y(i,n.prototype),n.superclass=a(t.prototype,t),Y(i,r),Y(n,e),n},n.filter=o,n.find=function(n,t){if(!f(n))return null;var r;if(u(t)&&(r=t),x(t)&&(r=function(n){return p(n,t)}),r)for(var e=0;e<n.length;e+=1)if(r(n[e]))return n[e];return null},n.findIndex=function(n,t,r){void 0===r&&(r=0);for(var e=r;e<n.length;e++)if(t(n[e],e))return e;return-1},n.firstValue=function(n,t){for(var r=null,e=0;e<n.length;e++){var a=n[e][t];if(!c(a)){r=f(a)?a[0]:a;break}}return r},n.fixedBase=function(n,t){var r=t.toString(),e=r.indexOf(".");if(-1===e)return Math.round(n);var a=r.substr(e+1).length;return a>20&&(a=20),parseFloat(n.toFixed(a))},n.flatten=function(n){if(!f(n))return[];for(var t=[],r=0;r<n.length;r++)t=t.concat(n[r]);return t},n.flattenDeep=g,n.forIn=s,n.get=function(n,t,r){for(var e=0,a=P(t)?t.split("."):t;n&&e<a.length;)n=n[a[e++]];return void 0===n||e<a.length?r:n},n.getDrawDirection=function(n){return et(n)>=0},n.getPathArea=et,n.getPathBBox=function(n,t){if(!n)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var r=tt(n,void 0,gn(gn({},t),{length:!1})),e=r.min,a=e.x,i=e.y,o=r.max,u=o.x,c=o.y,f=u-a,l=c-i;return{width:f,height:l,x:a,y:i,x2:u,y2:c,cx:a+f/2,cy:i+l/2,cz:Math.max(f,l)+Math.min(f,l)/2}},n.getPathBBoxTotalLength=function(n,t){if(!n)return{length:0,x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var r=tt(n,void 0,gn(gn({},t),{bbox:!0,length:!0})),e=r.length,a=r.min,i=a.x,o=a.y,u=r.max,c=u.x,f=u.y,l=c-i,s=f-o;return{length:e,width:l,height:s,x:i,y:o,x2:c,y2:f,cx:i+l/2,cy:o+s/2,cz:Math.max(l,s)+Math.min(l,s)/2}},n.getPointAtLength=at,n.getRange=function(n){var t=n.filter(function(n){return!isNaN(n)});if(!t.length)return{min:0,max:0};if(f(n[0])){for(var r=[],e=0;e<n.length;e++)r=r.concat(n[e]);t=r}var a=d(t);return{min:M(t),max:a}},n.getRotatedCurve=function(n,t){var r=n.length-1,e=[],a=0,i=function(n){var t=n.length,r=t-1;return n.map(function(e,a){return n.map(function(e,i){var o,u=a+i;return 0===i||n[u]&&"M"===n[u][0]?(o=n[u],["M"].concat(o.slice(-2))):(u>=t&&(u-=r),n[u])})})}(n);return i.forEach(function(i,o){n.slice(1).forEach(function(e,i){a+=Zn(n[(o+i)%r].slice(-2),t[i%r].slice(-2))}),e[o]=a,a=0}),i[e.indexOf(Math.min.apply(null,e))]},n.getTotalLength=rt,n.getType=D,n.getWrapBehavior=function(n,t){return n["_wrap_"+t]},n.gradient=function(n){var r=("string"==typeof n?n.split("-"):n).map(function(n){return t(-1===n.indexOf("#")?an(n):n)});return function(n){return function(n,t){var r=isNaN(Number(t))||t<0?0:t>1?1:Number(t),a=n.length-1,i=Math.floor(a*r),o=a*r-i,u=n[i],c=i===a?u:n[i+1];return e([on(u,c,o,0),on(u,c,o,1),on(u,c,o,2)])}(r,n)}},n.group=function(n,t){if(!t)return[n];var r=I(n,t),e=[];for(var a in r)e.push(r[a]);return e},n.groupBy=S,n.groupToMap=I,n.has=L,n.hasKey=L,n.hasValue=function(n,t){return i(V(n),t)},n.head=function(n){if(a(n))return n[0]},n.identity=function(n){return n},n.includes=i,n.indexOf=function(n,t){if(!a(n))return-1;var r=Array.prototype.indexOf;if(r)return r.call(n,t);for(var e=-1,i=0;i<n.length;i++)if(n[i]===t){e=i;break}return e},n.isArguments=function(n){return m(n,"Arguments")},n.isArray=f,n.isArrayLike=a,n.isBoolean=function(n){return m(n,"Boolean")},n.isDate=function(n){return n instanceof Date},n.isDecimal=function(n){return F(n)&&n%1!=0},n.isElement=function(n){return n instanceof Element||n instanceof Document},n.isEmpty=function(n){if(c(n))return!0;if(a(n))return!n.length;var t=D(n);if("Map"===t||"Set"===t)return!n.size;if(Q(n))return!Object.keys(n).length;for(var r in n)if(K.call(n,r))return!1;return!0},n.isEqual=$,n.isEqualWith=function(n,t,r){return u(r)?!!r(n,t):$(n,t)},n.isError=function(n){return m(n,"Error")},n.isEven=function(n){return F(n)&&n%2==0},n.isFinite=function(n){return F(n)&&isFinite(n)},n.isFunction=u,n.isInteger=function(n){return F(n)&&n%1==0},n.isMatch=p,n.isNegative=function(n){return F(n)&&n<0},n.isNil=c,n.isNull=function(n){return null===n},n.isNumber=F,n.isNumberEqual=function(n,t,r){return void 0===r&&(r=1e-5),n===t||Math.abs(n-t)<r},n.isObject=l,n.isObjectLike=v,n.isOdd=function(n){return F(n)&&n%2!=0},n.isPlainObject=x,n.isPointInPolygon=ft,n.isPointInStroke=function(n,t){var r=it(n,t).distance;return Math.abs(r)<.001},n.isPolygonsIntersect=function(n,t){if(n.length<2||t.length<2)return!1;var r,e,a=pt(n),i=pt(t);if(r=a,(e=i).minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)return!1;var o=!1;if(t.forEach(function(t){if(ft(n,t[0],t[1]))return o=!0,!1}),o)return!0;if(n.forEach(function(n){if(ft(t,n[0],n[1]))return o=!0,!1}),o)return!0;var u=st(n),c=st(t),f=!1;return c.forEach(function(n){if(ht(u,n))return f=!0,!1}),f},n.isPositive=function(n){return F(n)&&n>0},n.isPrototype=Q,n.isRegExp=function(n){return m(n,"RegExp")},n.isString=P,n.isType=m,n.isUndefined=function(n){return void 0===n},n.keys=h,n.last=function(n){if(a(n)){return n[n.length-1]}},n.lowerCase=function(n){return B(n).toLowerCase()},n.lowerFirst=function(n){var t=B(n);return t.charAt(0).toLowerCase()+t.substring(1)},n.map=function(n,t){if(!a(n))return n;for(var r=[],e=0;e<n.length;e++){var i=n[e];r.push(t(i,e))}return r},n.mapValues=function(n,t){void 0===t&&(t=J);var r={};return l(n)&&!c(n)&&Object.keys(n).forEach(function(e){r[e]=t(n[e],e)}),r},n.max=d,n.maxBy=function(n,t){if(f(n)){for(var r,e=-1/0,a=0;a<n.length;a++){var i=n[a],o=u(t)?t(i):i[t];o>e&&(r=i,e=o)}return r}},n.memoize=W,n.min=M,n.minBy=function(n,t){if(f(n)){for(var r,e=1/0,a=0;a<n.length;a++){var i=n[a],o=u(t)?t(i):i[t];o<e&&(r=i,e=o)}return r}},n.mix=Y,n.mod=function(n,t){return(n%t+t)%t},n.modifyCSS=function(n,t){if(n)return Object.keys(t).forEach(function(r){n.style[r]=t[r]}),n},n.noop=function(){},n.normalizePath=Bn,n.number2color=function(n){var t=E[n];if(!t){for(var r=n.toString(16),e=r.length;e<6;e++)r="0"+r;t="#"+r,E[n]=t}return t},n.omit=function(n,t){return j(n,function(n,r,e){return t.includes(e)||(n[e]=r),n},{})},n.parseRadius=function(n){var t=0,r=0,e=0,a=0;return f(n)?1===n.length?t=r=e=a=n[0]:2===n.length?(t=e=n[0],r=a=n[1]):3===n.length?(t=n[0],r=a=n[1],e=n[2]):(t=n[0],r=n[1],e=n[2],a=n[3]):t=r=e=a=n,{r1:t,r2:r,r3:e,r4:a}},n.path2Absolute=Ln,n.path2Array=function(n){return zn(n)},n.path2Curve=Yn,n.path2String=function(n,t){return void 0===t&&(t="off"),function(n,t){if("off"===t)return[].concat(n);var r="number"==typeof t&&t>=1?Math.pow(10,t):1;return n.map(function(n){var e=n.slice(1).map(Number).map(function(n){return t?Math.round(n*r)/r:Math.round(n)});return[n[0]].concat(e)})}(n,t).map(function(n){return n[0]+n.slice(1).join(" ")}).join("")},n.pick=function(n,t){if(null===n||!x(n))return{};var r={};return s(t,function(t){nn.call(n,t)&&(r[t]=n[t])}),r},n.pull=function(n){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var e=0;e<t.length;e++)for(var a=t[e],i=-1;(i=A.call(n,a))>-1;)w.call(n,i,1);return n},n.pullAt=C,n.reduce=j,n.remove=function(n,t){var r=[];if(!a(n))return r;for(var e=-1,i=[],o=n.length;++e<o;){var u=n[e];t(u,e,n)&&(r.push(u),i.push(e))}return C(n,i),r},n.requestAnimationFrame=function(n){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(n){return setTimeout(n,16)})(n)},n.reverseCurve=function(n){var t=n.slice(1).map(function(t,r,e){return r?e[r-1].slice(-2).concat(t.slice(1)):n[0].slice(1).concat(t.slice(1))}).map(function(n){return n.map(function(t,r){return n[n.length-r-2*(1-r%2)]})}).reverse();return[["M"].concat(t[0].slice(0,2))].concat(t.map(function(n){return["C"].concat(n.slice(2))}))},n.rgb2arr=t,n.set=function(n,t,r){var e=n,a=P(t)?t.split("."):t;return a.forEach(function(n,t){t<a.length-1?(l(e[n])||(e[n]=F(a[t+1])?[]:{}),e=e[n]):e[n]=r}),n},n.size=function(n){return c(n)?0:a(n)?n.length:Object.keys(n).length},n.some=function(n,t){for(var r=0;r<n.length;r++)if(t(n[r],r))return!0;return!1},n.sortBy=function(n,t){var r;if(u(t))r=function(n,r){return t(n)-t(r)};else{var e=[];P(t)?e.push(t):f(t)&&(e=t),r=function(n,t){for(var r=0;r<e.length;r+=1){var a=e[r];if(n[a]>t[a])return 1;if(n[a]<t[a])return-1}return 0}}return n.sort(r),n},n.startsWith=function(n,t){return!(!f(n)&&!P(n))&&n[0]===t},n.substitute=function(n,t){return n&&t?n.replace(/\\?\{([^{}]+)\}/g,function(n,r){return"\\"===n.charAt(0)?n.slice(1):void 0===t[r]?"":t[r]}):n},n.throttle=function(n,t,r){var e,a,i,o,u=0;r||(r={});var c=function(){u=!1===r.leading?0:Date.now(),e=null,o=n.apply(a,i),e||(a=i=null)},f=function(){var f=Date.now();u||!1!==r.leading||(u=f);var l=t-(f-u);return a=this,i=arguments,l<=0||l>t?(e&&(clearTimeout(e),e=null),u=f,o=n.apply(a,i),e||(a=i=null)):e||!1===r.trailing||(e=setTimeout(c,l)),o};return f.cancel=function(){clearTimeout(e),u=0,e=a=i=null},f},n.toArray=function(n){return a(n)?Array.prototype.slice.call(n):[]},n.toCSSGradient=function(n){if(/^[r,R,L,l]{1}[\s]*\(/.test(n)){var t,r=void 0;if("l"===n[0]){var e=+(a=un.exec(n))[1]+90;r=a[2],t="linear-gradient(".concat(e,"deg, ")}else if("r"===n[0]){var a;t="radial-gradient(",r=(a=cn.exec(n))[4]}var i=r.match(fn);return i.forEach(function(n,r){var e=n.split(":");t+="".concat(e[1]," ").concat(100*Number(e[0]),"%"),r!==i.length-1&&(t+=", ")}),t+=")"}return n},n.toDegree=function(n){return T*n},n.toInteger=N,n.toRGB=an,n.toRadian=function(n){return z*n},n.toString=B,n.transform=function(n,t){for(var r=n?[].concat(n):[1,0,0,0,1,0,0,0,1],e=0,a=t.length;e<a;e++){var i=t[e];switch(i[0]){case"t":pn(r,r,[i[1],i[2]]);break;case"s":yn(r,r,[i[1],i[2]]);break;case"r":vn(r,r,i[1]);break;case"m":mn(r,r,i[1])}}return r},n.union=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return q([].concat.apply([],n))},n.uniq=q,n.uniqueId=function(n){return tn[n=n||"g"]?tn[n]+=1:tn[n]=1,n+tn[n]},n.upperCase=function(n){return B(n).toUpperCase()},n.upperFirst=function(n){var t=B(n);return t.charAt(0).toUpperCase()+t.substring(1)},n.values=V,n.valuesOfKey=function(n,t){for(var r=[],e={},a=0;a<n.length;a++){var i=n[a][t];if(!c(i)){f(i)||(i=[i]);for(var o=0;o<i.length;o++){var u=i[o];e[u]||(r.push(u),e[u]=!0)}}}return r},n.vertical=function(n,t,r){return r?(n[0]=t[1],n[1]=-1*t[0]):(n[0]=-1*t[1],n[1]=t[0]),n},n.wrapBehavior=function(n,t){if(n["_wrap_"+t])return n["_wrap_"+t];var r=function(r){n[t](r)};return n["_wrap_"+t]=r,r}});
