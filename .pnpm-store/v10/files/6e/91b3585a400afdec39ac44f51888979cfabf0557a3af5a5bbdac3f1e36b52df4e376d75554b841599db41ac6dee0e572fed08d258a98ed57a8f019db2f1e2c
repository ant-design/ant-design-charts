{"version":3,"file":"index.umd.min.js","sources":["../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/typeof.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/createClass.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/OverloadYield.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/regeneratorDefine.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/regenerator.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/regeneratorAsyncIterator.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/regeneratorAsyncGen.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/regeneratorAsync.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/regeneratorKeys.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/regeneratorValues.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../../../node_modules/.pnpm/@antv+util@3.3.11/node_modules/@antv/util/esm/path/util/distance-square-root.js","../src/DragndropPlugin.ts","../src/index.ts","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/callSuper.js","../../../node_modules/.pnpm/@babel+runtime@7.28.4/node_modules/@babel/runtime/helpers/esm/inherits.js"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r) {\n      return Object.getOwnPropertyDescriptor(e, r).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r) {\n      defineProperty(e, r, t[r]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) {\n      Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n    });\n  }\n  return e;\n}\nexport { _objectSpread2 as default };","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };","function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nexport { _isNativeReflectConstruct as default };","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","function _OverloadYield(e, d) {\n  this.v = e, this.k = d;\n}\nexport { _OverloadYield as default };","function _regeneratorDefine(e, r, n, t) {\n  var i = Object.defineProperty;\n  try {\n    i({}, \"\", {});\n  } catch (e) {\n    i = 0;\n  }\n  _regeneratorDefine = function regeneratorDefine(e, r, n, t) {\n    function o(r, n) {\n      _regeneratorDefine(e, r, function (e) {\n        return this._invoke(r, n, e);\n      });\n    }\n    r ? i ? i(e, r, {\n      value: n,\n      enumerable: !t,\n      configurable: !t,\n      writable: !t\n    }) : e[r] = n : (o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2));\n  }, _regeneratorDefine(e, r, n, t);\n}\nexport { _regeneratorDefine as default };","import regeneratorDefine from \"./regeneratorDefine.js\";\nfunction _regenerator() {\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */\n  var e,\n    t,\n    r = \"function\" == typeof Symbol ? Symbol : {},\n    n = r.iterator || \"@@iterator\",\n    o = r.toStringTag || \"@@toStringTag\";\n  function i(r, n, o, i) {\n    var c = n && n.prototype instanceof Generator ? n : Generator,\n      u = Object.create(c.prototype);\n    return regeneratorDefine(u, \"_invoke\", function (r, n, o) {\n      var i,\n        c,\n        u,\n        f = 0,\n        p = o || [],\n        y = !1,\n        G = {\n          p: 0,\n          n: 0,\n          v: e,\n          a: d,\n          f: d.bind(e, 4),\n          d: function d(t, r) {\n            return i = t, c = 0, u = e, G.n = r, a;\n          }\n        };\n      function d(r, n) {\n        for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) {\n          var o,\n            i = p[t],\n            d = G.p,\n            l = i[2];\n          r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0));\n        }\n        if (o || r > 1) return a;\n        throw y = !0, n;\n      }\n      return function (o, p, l) {\n        if (f > 1) throw TypeError(\"Generator is already running\");\n        for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) {\n          i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u);\n          try {\n            if (f = 2, i) {\n              if (c || (o = \"next\"), t = i[o]) {\n                if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\");\n                if (!t.done) return t;\n                u = t.value, c < 2 && (c = 0);\n              } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1);\n              i = e;\n            } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break;\n          } catch (t) {\n            i = e, c = 1, u = t;\n          } finally {\n            f = 1;\n          }\n        }\n        return {\n          value: t,\n          done: y\n        };\n      };\n    }(r, o, i), !0), u;\n  }\n  var a = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  t = Object.getPrototypeOf;\n  var c = [][n] ? t(t([][n]())) : (regeneratorDefine(t = {}, n, function () {\n      return this;\n    }), t),\n    u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c);\n  function f(e) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, regeneratorDefine(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e;\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, regeneratorDefine(u, \"constructor\", GeneratorFunctionPrototype), regeneratorDefine(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", regeneratorDefine(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), regeneratorDefine(u), regeneratorDefine(u, o, \"Generator\"), regeneratorDefine(u, n, function () {\n    return this;\n  }), regeneratorDefine(u, \"toString\", function () {\n    return \"[object Generator]\";\n  }), (_regenerator = function _regenerator() {\n    return {\n      w: i,\n      m: f\n    };\n  })();\n}\nexport { _regenerator as default };","import OverloadYield from \"./OverloadYield.js\";\nimport regeneratorDefine from \"./regeneratorDefine.js\";\nfunction AsyncIterator(t, e) {\n  function n(r, o, i, f) {\n    try {\n      var c = t[r](o),\n        u = c.value;\n      return u instanceof OverloadYield ? e.resolve(u.v).then(function (t) {\n        n(\"next\", t, i, f);\n      }, function (t) {\n        n(\"throw\", t, i, f);\n      }) : e.resolve(u).then(function (t) {\n        c.value = t, i(c);\n      }, function (t) {\n        return n(\"throw\", t, i, f);\n      });\n    } catch (t) {\n      f(t);\n    }\n  }\n  var r;\n  this.next || (regeneratorDefine(AsyncIterator.prototype), regeneratorDefine(AsyncIterator.prototype, \"function\" == typeof Symbol && Symbol.asyncIterator || \"@asyncIterator\", function () {\n    return this;\n  })), regeneratorDefine(this, \"_invoke\", function (t, o, i) {\n    function f() {\n      return new e(function (e, r) {\n        n(t, i, e, r);\n      });\n    }\n    return r = r ? r.then(f, f) : f();\n  }, !0);\n}\nexport { AsyncIterator as default };","import regenerator from \"./regenerator.js\";\nimport regeneratorAsyncIterator from \"./regeneratorAsyncIterator.js\";\nfunction _regeneratorAsyncGen(r, e, t, o, n) {\n  return new regeneratorAsyncIterator(regenerator().w(r, e, t, o), n || Promise);\n}\nexport { _regeneratorAsyncGen as default };","import regeneratorAsyncGen from \"./regeneratorAsyncGen.js\";\nfunction _regeneratorAsync(n, e, r, t, o) {\n  var a = regeneratorAsyncGen(n, e, r, t, o);\n  return a.next().then(function (n) {\n    return n.done ? n.value : a.next();\n  });\n}\nexport { _regeneratorAsync as default };","function _regeneratorKeys(e) {\n  var n = Object(e),\n    r = [];\n  for (var t in n) r.unshift(t);\n  return function e() {\n    for (; r.length;) if ((t = r.pop()) in n) return e.value = t, e.done = !1, e;\n    return e.done = !0, e;\n  };\n}\nexport { _regeneratorKeys as default };","import _typeof from \"./typeof.js\";\nfunction _regeneratorValues(e) {\n  if (null != e) {\n    var t = e[\"function\" == typeof Symbol && Symbol.iterator || \"@@iterator\"],\n      r = 0;\n    if (t) return t.call(e);\n    if (\"function\" == typeof e.next) return e;\n    if (!isNaN(e.length)) return {\n      next: function next() {\n        return e && r >= e.length && (e = void 0), {\n          value: e && e[r++],\n          done: !e\n        };\n      }\n    };\n  }\n  throw new TypeError(_typeof(e) + \" is not iterable\");\n}\nexport { _regeneratorValues as default };","import OverloadYield from \"./OverloadYield.js\";\nimport regenerator from \"./regenerator.js\";\nimport regeneratorAsync from \"./regeneratorAsync.js\";\nimport regeneratorAsyncGen from \"./regeneratorAsyncGen.js\";\nimport regeneratorAsyncIterator from \"./regeneratorAsyncIterator.js\";\nimport regeneratorKeys from \"./regeneratorKeys.js\";\nimport regeneratorValues from \"./regeneratorValues.js\";\nfunction _regeneratorRuntime() {\n  \"use strict\";\n\n  var r = regenerator(),\n    e = r.m(_regeneratorRuntime),\n    t = (Object.getPrototypeOf ? Object.getPrototypeOf(e) : e.__proto__).constructor;\n  function n(r) {\n    var e = \"function\" == typeof r && r.constructor;\n    return !!e && (e === t || \"GeneratorFunction\" === (e.displayName || e.name));\n  }\n  var o = {\n    \"throw\": 1,\n    \"return\": 2,\n    \"break\": 3,\n    \"continue\": 3\n  };\n  function a(r) {\n    var e, t;\n    return function (n) {\n      e || (e = {\n        stop: function stop() {\n          return t(n.a, 2);\n        },\n        \"catch\": function _catch() {\n          return n.v;\n        },\n        abrupt: function abrupt(r, e) {\n          return t(n.a, o[r], e);\n        },\n        delegateYield: function delegateYield(r, o, a) {\n          return e.resultName = o, t(n.d, regeneratorValues(r), a);\n        },\n        finish: function finish(r) {\n          return t(n.f, r);\n        }\n      }, t = function t(r, _t, o) {\n        n.p = e.prev, n.n = e.next;\n        try {\n          return r(_t, o);\n        } finally {\n          e.next = n.n;\n        }\n      }), e.resultName && (e[e.resultName] = n.v, e.resultName = void 0), e.sent = n.v, e.next = n.n;\n      try {\n        return r.call(this, e);\n      } finally {\n        n.p = e.prev, n.n = e.next;\n      }\n    };\n  }\n  return (_regeneratorRuntime = function _regeneratorRuntime() {\n    return {\n      wrap: function wrap(e, t, n, o) {\n        return r.w(a(e), t, n, o && o.reverse());\n      },\n      isGeneratorFunction: n,\n      mark: r.m,\n      awrap: function awrap(r, e) {\n        return new OverloadYield(r, e);\n      },\n      AsyncIterator: regeneratorAsyncIterator,\n      async: function async(r, e, t, o, u) {\n        return (n(e) ? regeneratorAsyncGen : regeneratorAsync)(a(r), e, t, o, u);\n      },\n      keys: regeneratorKeys,\n      values: regeneratorValues\n    };\n  })();\n}\nexport { _regeneratorRuntime as default };","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","export function distanceSquareRoot(a, b) {\n    return Math.sqrt((a[0] - b[0]) * (a[0] - b[0]) + (a[1] - b[1]) * (a[1] - b[1]));\n}\n//# sourceMappingURL=distance-square-root.js.map","import type {\n  DisplayObject,\n  FederatedPointerEvent,\n  IDocument,\n  RenderingPlugin,\n  RenderingPluginContext,\n} from '@antv/g-lite';\nimport { distanceSquareRoot } from '@antv/util';\nimport type { DragndropPluginOptions } from './interfaces';\n\nexport class DragndropPlugin implements RenderingPlugin {\n  static tag = 'Dragndrop';\n\n  constructor(public dragndropPluginOptions: DragndropPluginOptions) {}\n\n  apply(context: RenderingPluginContext) {\n    const { renderingService, renderingContext } = context;\n    const document = renderingContext.root.ownerDocument;\n\n    // TODO: should we add an option like `draggable` to Canvas\n    const canvas = document.defaultView;\n\n    const handlePointerdown = (event: FederatedPointerEvent) => {\n      const target = event.target as DisplayObject;\n      const isDocument = (target as unknown as IDocument) === document;\n\n      const draggableEventTarget =\n        isDocument && this.dragndropPluginOptions.isDocumentDraggable\n          ? document\n          : target.closest && target.closest('[draggable=true]');\n\n      // `draggable` may be set on ancestor nodes:\n      // @see https://github.com/antvis/G/issues/1088\n      if (draggableEventTarget) {\n        // delay triggering dragstart event\n        let dragstartTriggered = false;\n        const dragstartTimeStamp = event.timeStamp;\n        const dragstartClientCoordinates: [number, number] = [\n          event.clientX,\n          event.clientY,\n        ];\n\n        let currentDroppable = null;\n        let lastDragClientCoordinates = [event.clientX, event.clientY];\n        // @ts-ignore\n        // eslint-disable-next-line no-inner-declarations\n        const handlePointermove = async (event: FederatedPointerEvent) => {\n          if (!dragstartTriggered) {\n            const timeElapsed = event.timeStamp - dragstartTimeStamp;\n            const distanceMoved = distanceSquareRoot(\n              [event.clientX, event.clientY],\n              dragstartClientCoordinates,\n            );\n            // check thresholds\n            if (\n              timeElapsed <=\n                this.dragndropPluginOptions.dragstartTimeThreshold ||\n              distanceMoved <=\n                this.dragndropPluginOptions.dragstartDistanceThreshold\n            ) {\n              return;\n            }\n\n            // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragstart_event\n            event.type = 'dragstart';\n\n            draggableEventTarget.dispatchEvent(event);\n            dragstartTriggered = true;\n          }\n\n          // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/drag_event\n          event.type = 'drag';\n          // @ts-ignore\n          event.dx = event.clientX - lastDragClientCoordinates[0];\n          // @ts-ignore\n          event.dy = event.clientY - lastDragClientCoordinates[1];\n          draggableEventTarget.dispatchEvent(event);\n          lastDragClientCoordinates = [event.clientX, event.clientY];\n\n          if (!isDocument) {\n            const point =\n              this.dragndropPluginOptions.overlap === 'pointer'\n                ? [event.canvasX, event.canvasY]\n                : target.getBounds().center;\n            const elementsBelow = await document.elementsFromPoint(\n              point[0],\n              point[1],\n            );\n\n            // prevent from picking the dragging element\n            const elementBelow =\n              elementsBelow[elementsBelow.indexOf(target) + 1];\n\n            const droppableBelow =\n              elementBelow?.closest('[droppable=true]') ||\n              (this.dragndropPluginOptions.isDocumentDroppable\n                ? document\n                : null);\n            if (currentDroppable !== droppableBelow) {\n              if (currentDroppable) {\n                // null when we were not over a droppable before this event\n                // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragleave_event\n                event.type = 'dragleave';\n                event.target = currentDroppable;\n                currentDroppable.dispatchEvent(event);\n              }\n\n              if (droppableBelow) {\n                // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragleave_event\n                event.type = 'dragenter';\n                event.target = droppableBelow;\n                droppableBelow.dispatchEvent(event);\n              }\n\n              currentDroppable = droppableBelow;\n              if (currentDroppable) {\n                // null if we're not coming over a droppable now\n                // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragover_event\n                event.type = 'dragover';\n                event.target = currentDroppable;\n                currentDroppable.dispatchEvent(event);\n              }\n            }\n          }\n        };\n\n        canvas.addEventListener('pointermove', handlePointermove);\n\n        const stopDragging = function (\n          originalPointerUpEvent: FederatedPointerEvent,\n        ) {\n          if (dragstartTriggered) {\n            // prevent click event being triggerd\n            // @see https://github.com/antvis/G/issues/1091\n            originalPointerUpEvent.detail = {\n              preventClick: true,\n            };\n\n            // clone event first\n            const event = originalPointerUpEvent.clone();\n\n            // drop should fire before dragend\n            // @see https://javascript.tutorialink.com/is-there-a-defined-ordering-between-dragend-and-drop-events/\n\n            if (currentDroppable) {\n              // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/drop_event\n              event.type = 'drop';\n              event.target = currentDroppable;\n              currentDroppable.dispatchEvent(event);\n            }\n\n            // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragend_event\n            event.type = 'dragend';\n            draggableEventTarget.dispatchEvent(event);\n\n            dragstartTriggered = false;\n          }\n\n          canvas.removeEventListener('pointermove', handlePointermove);\n        };\n\n        target.addEventListener('pointerup', stopDragging, { once: true });\n        target.addEventListener('pointerupoutside', stopDragging, {\n          once: true,\n        });\n      }\n    };\n\n    renderingService.hooks.init.tap(DragndropPlugin.tag, () => {\n      canvas.addEventListener('pointerdown', handlePointerdown);\n    });\n\n    renderingService.hooks.destroy.tap(DragndropPlugin.tag, () => {\n      canvas.removeEventListener('pointerdown', handlePointerdown);\n    });\n  }\n}\n","import { AbstractRendererPlugin } from '@antv/g-lite';\nimport { DragndropPlugin } from './DragndropPlugin';\nimport type { DragndropPluginOptions } from './interfaces';\n\nexport class Plugin extends AbstractRendererPlugin {\n  name = 'dragndrop';\n\n  constructor(private options: Partial<DragndropPluginOptions> = {}) {\n    super();\n  }\n\n  init(): void {\n    this.addRenderingPlugin(\n      new DragndropPlugin({\n        overlap: 'pointer',\n        isDocumentDraggable: false,\n        isDocumentDroppable: false,\n        dragstartDistanceThreshold: 0,\n        dragstartTimeThreshold: 0,\n        ...this.options,\n      }),\n    );\n  }\n  destroy(): void {\n    this.removeAllRenderingPlugins();\n  }\n  setOptions(options: Partial<DragndropPluginOptions>): void {\n    Object.assign(\n      (this.plugins[0] as DragndropPlugin).dragndropPluginOptions,\n      options,\n    );\n  }\n}\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nfunction _callSuper(t, o, e) {\n  return o = getPrototypeOf(o), possibleConstructorReturn(t, isNativeReflectConstruct() ? Reflect.construct(o, e || [], getPrototypeOf(t).constructor) : o.apply(t, e));\n}\nexport { _callSuper as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","Object","defineProperty","value","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","_classCallCheck","a","n","_defineProperties","length","key","_createClass","_getPrototypeOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_isNativeReflectConstruct","Boolean","valueOf","Reflect","construct","_possibleConstructorReturn","ReferenceError","assertThisInitialized","_setPrototypeOf","_OverloadYield","d","this","v","k","_regeneratorDefine","_invoke","_regenerator","toStringTag","u","create","Generator","regeneratorDefine","c","f","p","y","G","l","done","GeneratorFunction","GeneratorFunctionPrototype","displayName","w","m","AsyncIterator","OverloadYield","resolve","then","next","asyncIterator","_regeneratorAsyncGen","regeneratorAsyncIterator","regenerator","Promise","_regeneratorAsync","regeneratorAsyncGen","_regeneratorKeys","unshift","pop","_regeneratorValues","isNaN","_regeneratorRuntime","name","throw","return","break","continue","stop","catch","abrupt","delegateYield","resultName","regeneratorValues","finish","_t","prev","sent","wrap","reverse","isGeneratorFunction","mark","awrap","async","regeneratorAsync","regeneratorKeys","values","asyncGeneratorStep","distanceSquareRoot","b","Math","sqrt","DragndropPlugin","dragndropPluginOptions","context","_this","renderingService","document","renderingContext","root","ownerDocument","canvas","defaultView","handlePointerdown","event","target","isDocument","draggableEventTarget","isDocumentDraggable","closest","dragstartTriggered","dragstartTimeStamp","timeStamp","dragstartClientCoordinates","clientX","clientY","currentDroppable","lastDragClientCoordinates","handlePointermove","_ref","_callee","timeElapsed","distanceMoved","point","elementsBelow","elementBelow","droppableBelow","_context","dragstartTimeThreshold","dragstartDistanceThreshold","type","dispatchEvent","dx","dy","overlap","canvasX","canvasY","getBounds","center","elementsFromPoint","indexOf","isDocumentDroppable","arguments","_next","_throw","_x","addEventListener","stopDragging","originalPointerUpEvent","detail","preventClick","clone","removeEventListener","once","hooks","init","tap","tag","destroy","Plugin","_AbstractRendererPlug","options","undefined","possibleConstructorReturn","isNativeReflectConstruct","_inherits","addRenderingPlugin","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread","removeAllRenderingPlugins","assign","plugins","AbstractRendererPlugin"],"mappings":";;;;;;;;oTAAA,SAASA,EAAQC,GAGf,OAAOD,EAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAC7F,cAAcA,CACf,EAAG,SAAUA,GACZ,OAAOA,GAAK,mBAAqBC,QAAUD,EAAEG,cAAgBF,QAAUD,IAAMC,OAAOG,UAAY,gBAAkBJ,CACtH,EAAKD,EAAQC,EACb,CCNA,SAASK,EAAcC,GACrB,IAAIC,ECFN,SAAqBD,EAAGE,GACtB,GAAI,UAAYT,EAAQO,KAAOA,EAAG,OAAOA,EACzC,IAAIG,EAAIH,EAAEL,OAAOS,aACjB,QAAI,IAAWD,EAAG,CAChB,IAAIF,EAAIE,EAAEE,KAAKL,EAAGE,GAAK,WACvB,GAAI,UAAYT,EAAQQ,GAAI,OAAOA,EACnC,MAAM,IAAIK,UAAU,+CACrB,CACD,OAAQ,WAAaJ,EAAIK,OAASC,QAAQR,EAC5C,CDPUI,CAAYJ,EAAG,UACvB,MAAO,UAAYP,EAAQQ,GAAKA,EAAIA,EAAI,EAC1C,CEJA,SAASQ,EAAgBN,EAAGD,EAAGF,GAC7B,OAAQE,EAAIH,EAAcG,MAAOC,EAAIO,OAAOC,eAAeR,EAAGD,EAAG,CAC/DU,MAAOZ,EACPa,YAAY,EACZC,cAAc,EACdC,UAAU,IACPZ,EAAED,GAAKF,EAAGG,CACjB,CCPA,SAASa,EAAQb,EAAGD,GAClB,IAAIF,EAAIU,OAAOO,KAAKd,GACpB,GAAIO,OAAOQ,sBAAuB,CAChC,IAAIxB,EAAIgB,OAAOQ,sBAAsBf,GACrCD,IAAMR,EAAIA,EAAEyB,OAAO,SAAUjB,GAC3B,OAAOQ,OAAOU,yBAAyBjB,EAAGD,GAAGW,UACnD,IAASb,EAAEqB,KAAKC,MAAMtB,EAAGN,EACtB,CACD,OAAOM,CACT,CCVA,SAASuB,EAAgBC,EAAGC,GAC1B,KAAMD,aAAaC,GAAI,MAAM,IAAInB,UAAU,oCAC7C,CCDA,SAASoB,EAAkBvB,EAAGD,GAC5B,IAAK,IAAIF,EAAI,EAAOE,EAAEyB,OAAN3B,EAAcA,IAAK,CACjC,IAAIN,EAAIQ,EAAEF,GACVN,EAAEmB,WAAanB,EAAEmB,aAAc,EAAInB,EAAEoB,cAAe,EAAI,UAAWpB,IAAMA,EAAEqB,UAAW,GAAKL,OAAOC,eAAeR,EAAGJ,EAAcL,EAAEkC,KAAMlC,EAC3I,CACH,CACA,SAASmC,EAAa1B,EAAGD,EAAGF,GAC1B,OAAOE,GAAKwB,EAAkBvB,EAAEL,UAAWI,GAAIF,GAAK0B,EAAkBvB,EAAGH,GAAIU,OAAOC,eAAeR,EAAG,YAAa,CACjHY,UAAU,IACRZ,CACN,CCXA,SAAS2B,EAAgB9B,GACvB,OAAO8B,EAAkBpB,OAAOqB,eAAiBrB,OAAOsB,eAAeC,OAAS,SAAUjC,GACxF,OAAOA,EAAEkC,WAAaxB,OAAOsB,eAAehC,EAChD,EAAK8B,EAAgB9B,EACrB,CCJA,SAASmC,IACP,IACE,IAAInC,GAAKoC,QAAQtC,UAAUuC,QAAQhC,KAAKiC,QAAQC,UAAUH,QAAS,GAAI,WAAY,GACvF,CAAI,MAAOpC,GAAK,CACd,OAAQmC,EAA4B,WAClC,QAASnC,CACb,IACA,CCLA,SAASwC,EAA2BxC,EAAGG,GACrC,GAAIA,IAAM,UAAYV,EAAQU,IAAM,mBAAqBA,GAAI,OAAOA,EACpE,QAAI,IAAWA,EAAG,MAAM,IAAIG,UAAU,4DACtC,OCLF,SAAgCH,GAC9B,QAAI,IAAWA,EAAG,MAAM,IAAIsC,eAAe,6DAC3C,OAAOtC,CACT,CDESuC,CAAsB1C,EAC/B,CENA,SAAS2C,EAAgB3C,EAAGG,GAC1B,OAAOwC,EAAkBjC,OAAOqB,eAAiBrB,OAAOqB,eAAeE,OAAS,SAAUjC,EAAGG,GAC3F,OAAOH,EAAEkC,UAAY/B,EAAGH,CAC5B,EAAK2C,EAAgB3C,EAAGG,EACxB,CCJA,SAASyC,EAAezC,EAAG0C,GACzBC,KAAKC,EAAI5C,EAAG2C,KAAKE,EAAIH,CACvB,CCFA,SAASI,EAAmB9C,EAAGD,EAAGuB,EAAGzB,GACnC,IAAIC,EAAIS,OAAOC,eACf,IACEV,EAAE,CAAE,EAAE,GAAI,CAAA,EACX,CAAC,MAAOE,GACPF,EAAI,CACL,CACDgD,EAAqB,SAA2B9C,EAAGD,EAAGuB,EAAGzB,GACvD,SAASN,EAAEQ,EAAGuB,GACZwB,EAAmB9C,EAAGD,EAAG,SAAUC,GACjC,OAAO2C,KAAKI,QAAQhD,EAAGuB,EAAGtB,EAClC,EACK,CACDD,EAAID,EAAIA,EAAEE,EAAGD,EAAG,CACdU,MAAOa,EACPZ,YAAab,EACbc,cAAed,EACfe,UAAWf,IACRG,EAAED,GAAKuB,GAAK/B,EAAE,OAAQ,GAAIA,EAAE,QAAS,GAAIA,EAAE,SAAU,GAC3D,EAAEuD,EAAmB9C,EAAGD,EAAGuB,EAAGzB,EACjC,CCnBA,SAASmD;;AAEP,IAAIhD,EACFH,EACAE,EAAI,mBAAqBP,OAASA,OAAS,CAAE,EAC7C8B,EAAIvB,EAAEN,UAAY,aAClBF,EAAIQ,EAAEkD,aAAe,gBACvB,SAASnD,EAAEC,EAAGuB,EAAG/B,EAAGO,GAClB,IACEoD,EAAI3C,OAAO4C,QADL7B,GAAKA,EAAE3B,qBAAqByD,EAAY9B,EAAI8B,GAC9BzD,WACtB,OAAO0D,EAAkBH,EAAG,UAAW,SAAUnD,EAAGuB,EAAG/B,GACrD,IAAIO,EACFwD,EACAJ,EACAK,EAAI,EACJC,EAAIjE,GAAK,GACTkE,GAAI,EACJC,EAAI,CACFF,EAAG,EACHlC,EAAG,EACHsB,EAAG5C,EACHqB,EAAGqB,EACHa,EAAGb,EAAEZ,KAAK9B,EAAG,GACb0C,EAAG,SAAW7C,EAAGE,GACf,OAAOD,EAAID,EAAGyD,EAAI,EAAGJ,EAAIlD,EAAG0D,EAAEpC,EAAIvB,EAAGsB,CACtC,GAEL,SAASqB,EAAE3C,EAAGuB,GACZ,IAAKgC,EAAIvD,EAAGmD,EAAI5B,EAAGzB,EAAI,GAAI4D,GAAKF,IAAMhE,GAASiE,EAAEhC,OAAN3B,EAAcA,IAAK,CAC5D,IAAIN,EACFO,EAAI0D,EAAE3D,GACN6C,EAAIgB,EAAEF,EACNG,EAAI7D,EAAE,GACRC,EAAI,GAAKR,EAAIoE,IAAMrC,KAAO4B,EAAIpD,GAAGwD,EAAIxD,EAAE,IAAM,GAAKwD,EAAI,EAAG,IAAKxD,EAAE,GAAKA,EAAE,GAAKE,GAAa0C,GAAR5C,EAAE,MAAaP,EAAQ,EAAJQ,GAAaD,EAAE,GAAN4C,IAAaY,EAAI,EAAGI,EAAEd,EAAItB,EAAGoC,EAAEpC,EAAIxB,EAAE,IAAU6D,EAAJjB,IAAUnD,EAAQ,EAAJQ,GAASD,EAAE,GAAKwB,GAAKA,EAAIqC,KAAO7D,EAAE,GAAKC,EAAGD,EAAE,GAAKwB,EAAGoC,EAAEpC,EAAIqC,EAAGL,EAAI,GACxO,CACD,GAAI/D,GAAKQ,EAAI,EAAG,OAAOsB,EACvB,MAAMoC,GAAI,EAAInC,CACf,CACD,OAAO,SAAU/B,EAAGiE,EAAGG,GACrB,GAAIJ,EAAI,EAAG,MAAMpD,UAAU,gCAC3B,IAAKsD,GAAK,IAAMD,GAAKd,EAAEc,EAAGG,GAAIL,EAAIE,EAAGN,EAAIS,GAAI9D,EAAQ,EAAJyD,EAAQtD,EAAIkD,KAAOO,GAAI,CACtE3D,IAAMwD,EAAQ,EAAJA,GAASA,EAAI,IAAMI,EAAEpC,GAAK,GAAIoB,EAAEY,EAAGJ,IAAMQ,EAAEpC,EAAI4B,EAAIQ,EAAEd,EAAIM,GACnE,IACE,GAAIK,EAAI,EAAGzD,EAAG,CACZ,GAAIwD,IAAM/D,EAAI,QAASM,EAAIC,EAAEP,GAAI,CAC/B,KAAMM,EAAIA,EAAEK,KAAKJ,EAAGoD,IAAK,MAAM/C,UAAU,oCACzC,IAAKN,EAAE+D,KAAM,OAAO/D,EACpBqD,EAAIrD,EAAEY,MAAW,EAAJ6C,IAAUA,EAAI,EAC3C,MAAqB,IAAMA,IAAMzD,EAAIC,EAAU,SAAMD,EAAEK,KAAKJ,GAAQ,EAAJwD,IAAUJ,EAAI/C,UAAU,oCAAsCZ,EAAI,YAAa+D,EAAI,GACrIxD,EAAIE,CACL,MAAM,IAAKH,GAAK4D,EAAU,EAANC,EAAEpC,GAAS4B,EAAInD,EAAEG,KAAKoB,EAAGoC,MAAQrC,EAAG,KAC1D,CAAC,MAAOxB,GACPC,EAAIE,EAAGsD,EAAI,EAAGJ,EAAIrD,CAC9B,CAAoB,QACR0D,EAAI,CACL,CACF,CACD,MAAO,CACL9C,MAAOZ,EACP+D,KAAMH,EAEhB,CACA,CApD2C,CAoDrC1D,EAAGR,EAAGO,IAAI,GAAKoD,CAClB,CACD,IAAI7B,EAAI,CAAA,EACR,SAAS+B,IAAc,CACvB,SAASS,IAAsB,CAC/B,SAASC,IAA+B,CACxCjE,EAAIU,OAAOsB,eACX,IAAIyB,EAAI,GAAGhC,GAAKzB,EAAEA,EAAE,GAAGyB,QAAU+B,EAAkBxD,EAAI,CAAE,EAAEyB,EAAG,WAC1D,OAAOqB,IACR,GAAG9C,GACJqD,EAAIY,EAA2BnE,UAAYyD,EAAUzD,UAAYY,OAAO4C,OAAOG,GACjF,SAASC,EAAEvD,GACT,OAAOO,OAAOqB,eAAiBrB,OAAOqB,eAAe5B,EAAG8D,IAA+B9D,EAAE+B,UAAY+B,EAA4BT,EAAkBrD,EAAGT,EAAG,sBAAuBS,EAAEL,UAAYY,OAAO4C,OAAOD,GAAIlD,CACjN,CACD,OAAO6D,EAAkBlE,UAAYmE,EAA4BT,EAAkBH,EAAG,cAAeY,GAA6BT,EAAkBS,EAA4B,cAAeD,GAAoBA,EAAkBE,YAAc,oBAAqBV,EAAkBS,EAA4BvE,EAAG,qBAAsB8D,EAAkBH,GAAIG,EAAkBH,EAAG3D,EAAG,aAAc8D,EAAkBH,EAAG5B,EAAG,WACja,OAAOqB,IACR,GAAGU,EAAkBH,EAAG,WAAY,WACnC,MAAO,oBACX,IAAOF,EAAe,WAClB,MAAO,CACLgB,EAAGlE,EACHmE,EAAGV,EAET,IACA,CCrFA,SAASW,EAAcrE,EAAGG,GACxB,SAASsB,EAAEvB,EAAGR,EAAGO,EAAGyD,GAClB,IACE,IAAID,EAAIzD,EAAEE,GAAGR,GACX2D,EAAII,EAAE7C,MACR,OAAOyC,aAAaiB,EAAgBnE,EAAEoE,QAAQlB,EAAEN,GAAGyB,KAAK,SAAUxE,GAChEyB,EAAE,OAAQzB,EAAGC,EAAGyD,EACjB,EAAE,SAAU1D,GACXyB,EAAE,QAASzB,EAAGC,EAAGyD,EACzB,GAAWvD,EAAEoE,QAAQlB,GAAGmB,KAAK,SAAUxE,GAC/ByD,EAAE7C,MAAQZ,EAAGC,EAAEwD,EAChB,EAAE,SAAUzD,GACX,OAAOyB,EAAE,QAASzB,EAAGC,EAAGyD,EAChC,EACK,CAAC,MAAO1D,GACP0D,EAAE1D,EACH,CACF,CACD,IAAIE,EACJ4C,KAAK2B,OAASjB,EAAkBa,EAAcvE,WAAY0D,EAAkBa,EAAcvE,UAAW,mBAAqBH,QAAUA,OAAO+E,eAAiB,iBAAkB,WAC5K,OAAO5B,IACX,IAAOU,EAAkBV,KAAM,UAAW,SAAU9C,EAAGN,EAAGO,GACtD,SAASyD,IACP,OAAO,IAAIvD,EAAE,SAAUA,EAAGD,GACxBuB,EAAEzB,EAAGC,EAAGE,EAAGD,EACnB,EACK,CACD,OAAOA,EAAIA,EAAIA,EAAEsE,KAAKd,EAAGA,GAAKA,GAClC,GAAK,EACL,CC7BA,SAASiB,EAAqBzE,EAAGC,EAAGH,EAAGN,EAAG+B,GACxC,OAAO,IAAImD,EAAyBC,IAAcV,EAAEjE,EAAGC,EAAGH,EAAGN,GAAI+B,GAAKqD,QACxE,CCHA,SAASC,EAAkBtD,EAAGtB,EAAGD,EAAGF,EAAGN,GACrC,IAAI8B,EAAIwD,EAAoBvD,EAAGtB,EAAGD,EAAGF,EAAGN,GACxC,OAAO8B,EAAEiD,OAAOD,KAAK,SAAU/C,GAC7B,OAAOA,EAAEsC,KAAOtC,EAAEb,MAAQY,EAAEiD,MAChC,EACA,CCNA,SAASQ,EAAiB9E,GACxB,IAAIsB,EAAIf,OAAOP,GACbD,EAAI,GACN,IAAK,IAAIF,KAAKyB,EAAGvB,EAAEgF,QAAQlF,GAC3B,OAAO,SAASG,IACd,KAAOD,EAAEyB,QAAS,IAAK3B,EAAIE,EAAEiF,SAAU1D,EAAG,OAAOtB,EAAES,MAAQZ,EAAGG,EAAE4D,MAAO,EAAI5D,EAC3E,OAAOA,EAAE4D,MAAO,EAAI5D,CACxB,CACA,CCPA,SAASiF,EAAmBjF,GAC1B,GAAI,MAAQA,EAAG,CACb,IAAIH,EAAIG,EAAE,mBAAqBR,QAAUA,OAAOC,UAAY,cAC1DM,EAAI,EACN,GAAIF,EAAG,OAAOA,EAAEK,KAAKF,GACrB,GAAI,mBAAqBA,EAAEsE,KAAM,OAAOtE,EACxC,IAAKkF,MAAMlF,EAAEwB,QAAS,MAAO,CAC3B8C,KAAM,WACJ,OAAOtE,GAAKD,GAAKC,EAAEwB,SAAWxB,OAAI,GAAS,CACzCS,MAAOT,GAAKA,EAAED,KACd6D,MAAO5D,EAEV,EAEJ,CACD,MAAM,IAAIG,UAAUb,EAAQU,GAAK,mBACnC,CCVA,SAASmF,IAGP,IAAIpF,EAAI2E,IACN1E,EAAID,EAAEkE,EAAEkB,GACRtF,GAAKU,OAAOsB,eAAiBtB,OAAOsB,eAAe7B,GAAKA,EAAE+B,WAAWrC,YACvE,SAAS4B,EAAEvB,GACT,IAAIC,EAAI,mBAAqBD,GAAKA,EAAEL,YACpC,QAASM,IAAMA,IAAMH,GAAK,uBAAyBG,EAAE+D,aAAe/D,EAAEoF,MACvE,CACD,IAAI7F,EAAI,CACN8F,MAAS,EACTC,OAAU,EACVC,MAAS,EACTC,SAAY,GAEd,SAASnE,EAAEtB,GACT,IAAIC,EAAGH,EACP,OAAO,SAAUyB,GACftB,IAAMA,EAAI,CACRyF,KAAM,WACJ,OAAO5F,EAAEyB,EAAED,EAAG,EACf,EACDqE,MAAS,WACP,OAAOpE,EAAEsB,CACV,EACD+C,OAAQ,SAAgB5F,EAAGC,GACzB,OAAOH,EAAEyB,EAAED,EAAG9B,EAAEQ,GAAIC,EACrB,EACD4F,cAAe,SAAuB7F,EAAGR,EAAG8B,GAC1C,OAAOrB,EAAE6F,WAAatG,EAAGM,EAAEyB,EAAEoB,EAAGoD,EAAkB/F,GAAIsB,EACvD,EACD0E,OAAQ,SAAgBhG,GACtB,OAAOF,EAAEyB,EAAEiC,EAAGxD,EACf,GACAF,EAAI,SAAWE,EAAGiG,EAAIzG,GACvB+B,EAAEkC,EAAIxD,EAAEiG,KAAM3E,EAAEA,EAAItB,EAAEsE,KACtB,IACE,OAAOvE,EAAEiG,EAAIzG,EACvB,CAAkB,QACRS,EAAEsE,KAAOhD,EAAEA,CACZ,CACT,GAAUtB,EAAE6F,aAAe7F,EAAEA,EAAE6F,YAAcvE,EAAEsB,EAAG5C,EAAE6F,gBAAa,GAAS7F,EAAEkG,KAAO5E,EAAEsB,EAAG5C,EAAEsE,KAAOhD,EAAEA,EAC7F,IACE,OAAOvB,EAAEG,KAAKyC,KAAM3C,EAC5B,CAAgB,QACRsB,EAAEkC,EAAIxD,EAAEiG,KAAM3E,EAAEA,EAAItB,EAAEsE,IACvB,CACP,CACG,CACD,OAAQa,EAAsB,WAC5B,MAAO,CACLgB,KAAM,SAAcnG,EAAGH,EAAGyB,EAAG/B,GAC3B,OAAOQ,EAAEiE,EAAE3C,EAAErB,GAAIH,EAAGyB,EAAG/B,GAAKA,EAAE6G,UAC/B,EACDC,oBAAqB/E,EACrBgF,KAAMvG,EAAEkE,EACRsC,MAAO,SAAexG,EAAGC,GACvB,OAAO,IAAImE,EAAcpE,EAAGC,EAC7B,EACDkE,cAAeO,EACf+B,MAAO,SAAezG,EAAGC,EAAGH,EAAGN,EAAG2D,GAChC,OAAQ5B,EAAEtB,GAAK6E,EAAsB4B,GAAkBpF,EAAEtB,GAAIC,EAAGH,EAAGN,EAAG2D,EACvE,EACDpC,KAAM4F,EACNC,OAAQb,EAEd,IACA,CC3EA,SAASc,EAAmBtF,EAAGzB,EAAGG,EAAGD,EAAGR,EAAG8B,EAAGiC,GAC5C,IACE,IAAIxD,EAAIwB,EAAED,GAAGiC,GACXJ,EAAIpD,EAAEW,KACT,CAAC,MAAOa,GACP,YAAYtB,EAAEsB,EACf,CACDxB,EAAE8D,KAAO/D,EAAEqD,GAAKyB,QAAQP,QAAQlB,GAAGmB,KAAKtE,EAAGR,EAC7C,CCRO,SAASsH,EAAmBxF,EAAGyF,GAClC,OAAOC,KAAKC,MAAM3F,EAAE,GAAKyF,EAAE,KAAOzF,EAAE,GAAKyF,EAAE,KAAOzF,EAAE,GAAKyF,EAAE,KAAOzF,EAAE,GAAKyF,EAAE,IAC/E,CCQA,IAAaG,EAAe,WAG1B,SAAAA,EAAmBC,GAAgD9F,OAAA6F,GAAAtE,KAAhDuE,uBAAAA,CAAiD,CAAC,OAAAxF,EAAAuF,EAAA,CAAA,CAAAxF,IAAA,QAAAhB,MAErE,SAAM0G,GAAiC,IAAAC,EAAAzE,KAC7B0E,EAAuCF,EAAvCE,iBACFC,EADyCH,EAArBI,iBACQC,KAAKC,cAGjCC,EAASJ,EAASK,YAElBC,EAAoB,SAACC,GACzB,IAAMC,EAASD,EAAMC,OACfC,EAAcD,IAAoCR,EAElDU,EACJD,GAAcX,EAAKF,uBAAuBe,oBACtCX,EACAQ,EAAOI,SAAWJ,EAAOI,QAAQ,oBAIvC,GAAIF,EAAsB,CAExB,IAAIG,GAAqB,EACnBC,EAAqBP,EAAMQ,UAC3BC,EAA+C,CACnDT,EAAMU,QACNV,EAAMW,SAGJC,EAAmB,KACnBC,EAA4B,CAACb,EAAMU,QAASV,EAAMW,SAGhDG,EAAiB,WAAA,IFrCJrH,EEqCIsH,GFrCJtH,EEqCI6D,IAAAmB,KAAG,SAAAuC,EAAOhB,GAA4B,IAAAiB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAhE,IAAAgB,KAAA,SAAAiD,GAAA,cAAAA,EAAAnD,KAAAmD,EAAA9E,MAAA,KAAA,EAAA,GACtD6D,EAAkB,CAAAiB,EAAA9E,KAAA,EAAA,KAAA,CAMrB,GALMwE,EAAcjB,EAAMQ,UAAYD,EAChCW,EAAgBlC,EACpB,CAACgB,EAAMU,QAASV,EAAMW,SACtBF,GAIAQ,EACE1B,EAAKF,uBAAuBmC,wBAC9BN,EACE3B,EAAKF,uBAAuBoC,2BAA0B,CAAAF,EAAA9E,KAAA,EAAA,KAAA,CAAA,OAAA8E,EAAAzD,OAAA,UAAA,KAAA,EAM1DkC,EAAM0B,KAAO,YAEbvB,EAAqBwB,cAAc3B,GACnCM,GAAqB,EAAK,KAAA,EAU+B,GAN3DN,EAAM0B,KAAO,OAEb1B,EAAM4B,GAAK5B,EAAMU,QAAUG,EAA0B,GAErDb,EAAM6B,GAAK7B,EAAMW,QAAUE,EAA0B,GACrDV,EAAqBwB,cAAc3B,GACnCa,EAA4B,CAACb,EAAMU,QAASV,EAAMW,SAE7CT,EAAU,CAAAqB,EAAA9E,KAAA,EAAA,KAAA,CAIkB,OAHzB0E,EACoC,YAAxC5B,EAAKF,uBAAuByC,QACxB,CAAC9B,EAAM+B,QAAS/B,EAAMgC,SACtB/B,EAAOgC,YAAYC,OAAMX,EAAA9E,KAAA,EACHgD,EAAS0C,kBACnChB,EAAM,GACNA,EAAM,IACP,KAAA,EAGKE,GANAD,EAAaG,EAAAlD,MAOH+C,EAAcgB,QAAQnC,GAAU,GAE1CqB,GACJD,aAAAA,EAAAA,EAAchB,QAAQ,uBACrBd,EAAKF,uBAAuBgD,oBACzB5C,EACA,MACFmB,IAAqBU,IACnBV,IAGFZ,EAAM0B,KAAO,YACb1B,EAAMC,OAASW,EACfA,EAAiBe,cAAc3B,IAG7BsB,IAEFtB,EAAM0B,KAAO,YACb1B,EAAMC,OAASqB,EACfA,EAAeK,cAAc3B,KAG/BY,EAAmBU,KAIjBtB,EAAM0B,KAAO,WACb1B,EAAMC,OAASW,EACfA,EAAiBe,cAAc3B,KAElC,KAAA,EAAA,IAAA,MAAA,OAAAuB,EAAA3D,OAAA,EAAAoD,EAEJ,GFlHA,WACL,IAAIhJ,EAAI8C,KACN3C,EAAImK,UACN,OAAO,IAAIxF,QAAQ,SAAU5E,EAAGR,GAC9B,IAAI8B,EAAIC,EAAEH,MAAMtB,EAAGG,GACnB,SAASoK,EAAM9I,GACbsF,EAAmBvF,EAAGtB,EAAGR,EAAG6K,EAAOC,EAAQ,OAAQ/I,EACpD,CACD,SAAS+I,EAAO/I,GACdsF,EAAmBvF,EAAGtB,EAAGR,EAAG6K,EAAOC,EAAQ,QAAS/I,EACrD,CACD8I,OAAM,EACZ,EACA,GEqGS,OA9EKzB,SAAiB2B,GAAA,OAAA1B,EAAAzH,MAAAwB,KAAAwH,UAAA,EAAA,GAgFvBzC,EAAO6C,iBAAiB,cAAe5B,GAEvC,IAAM6B,EAAe,SACnBC,GAEA,GAAItC,EAAoB,CAGtBsC,EAAuBC,OAAS,CAC9BC,cAAc,GAIhB,IAAM9C,EAAQ4C,EAAuBG,QAKjCnC,IAEFZ,EAAM0B,KAAO,OACb1B,EAAMC,OAASW,EACfA,EAAiBe,cAAc3B,IAIjCA,EAAM0B,KAAO,UACbvB,EAAqBwB,cAAc3B,GAEnCM,GAAqB,CACvB,CAEAT,EAAOmD,oBAAoB,cAAelC,IAG5Cb,EAAOyC,iBAAiB,YAAaC,EAAc,CAAEM,MAAM,IAC3DhD,EAAOyC,iBAAiB,mBAAoBC,EAAc,CACxDM,MAAM,GAEV,GAGFzD,EAAiB0D,MAAMC,KAAKC,IAAIhE,EAAgBiE,IAAK,WACnDxD,EAAO6C,iBAAiB,cAAe3C,EACzC,GAEAP,EAAiB0D,MAAMI,QAAQF,IAAIhE,EAAgBiE,IAAK,WACtDxD,EAAOmD,oBAAoB,cAAejD,EAC5C,EACF,IAAC,CArKyB,GAAfX,EACJiE,IAAM,YCPFE,IAAAA,WAAMC,GAGjB,SAAAD,IAAmE,IAAAhE,ECJjDvH,EAAGN,EAAGS,EDIJsL,EAAwCnB,UAAA3I,OAAA,QAAA+J,IAAApB,UAAA,GAAAA,UAAA,GAAG,CAAA,EAAH,OAAK/I,OAAAgK,GCJ/CvL,EDKhB8C,KCJKpD,EAAIsC,EADUtC,EDKnB6L,IAAAhE,ECJ4BoE,EAA0B3L,EAAG4L,IAA6BtJ,QAAQC,UAAU7C,EAAGS,GAAK,GAAI6B,EAAehC,GAAGH,aAAeH,EAAE4B,MAAMtB,EAAGG,KDClKoF,KAAO,YAAWgC,EAEEkE,QAAAA,EAAwClE,CAE5D,CAAC,OERH,SAAmBvH,EAAGG,GACpB,GAAI,mBAAqBA,GAAK,OAASA,EAAG,MAAM,IAAIG,UAAU,sDAC9DN,EAAEF,UAAYY,OAAO4C,OAAOnD,GAAKA,EAAEL,UAAW,CAC5CD,YAAa,CACXe,MAAOZ,EACPe,UAAU,EACVD,cAAc,KAEdJ,OAAOC,eAAeX,EAAG,YAAa,CACxCe,UAAU,IACRZ,GAAK4B,EAAe/B,EAAGG,EAC7B,CFHG0L,CAAAN,EAAAC,GAAA3J,EAAA0J,EAAA,CAAA,CAAA3J,IAAA,OAAAhB,MAED,WACEkC,KAAKgJ,mBACH,IAAI1E,EpBFV,SAAwBjH,GACtB,IAAK,IAAID,EAAI,EAAOoK,UAAU3I,OAAdzB,EAAsBA,IAAK,CACzC,IAAIF,EAAI,MAAQsK,UAAUpK,GAAKoK,UAAUpK,GAAK,GAC9CA,EAAI,EAAIc,EAAQN,OAAOV,IAAI,GAAI+L,QAAQ,SAAU7L,GAC/CS,EAAeR,EAAGD,EAAGF,EAAEE,GAC7B,GAASQ,OAAOsL,0BAA4BtL,OAAOuL,iBAAiB9L,EAAGO,OAAOsL,0BAA0BhM,IAAMgB,EAAQN,OAAOV,IAAI+L,QAAQ,SAAU7L,GAC7IQ,OAAOC,eAAeR,EAAGD,EAAGQ,OAAOU,yBAAyBpB,EAAGE,GACrE,EACG,CACD,OAAOC,CACT,CoBRyB+L,CAAA,CACjBpC,QAAS,UACT1B,qBAAqB,EACrBiC,qBAAqB,EACrBZ,2BAA4B,EAC5BD,uBAAwB,GACrB1G,KAAK2I,UAGd,GAAC,CAAA7J,IAAA,UAAAhB,MACD,WACEkC,KAAKqJ,2BACP,GAAC,CAAAvK,IAAA,aAAAhB,MACD,SAAW6K,GACT/K,OAAO0L,OACJtJ,KAAKuJ,QAAQ,GAAuBhF,uBACrCoE,EAEJ,IAAC,EA3ByBa,EAAsBA","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,25,26]}